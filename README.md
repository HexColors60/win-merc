# Windows Merc

_Windows Merc_ &ndash; условное название кодовой базы мад-сервера Merc 2.2, портированной на ОС Windows. Практически все классические мад-сервера писались под линуксами и для линуксов. Все порты делались так, чтобы одни и те же исходники можно было скомпилировать на любой системе. Но это создает некоторые осложнения и досадные помехи. Данный проект для тех, кто хочет работать с максимально чистым кодом под виндой. Может представлять интерес для начинающих мад-билдеров.

В ходе работы код был приведен в современный читабельный вид (beautified). В &laquo;родном&raquo; виде код можно без труда найти на просторах сети.

Настоящий релиз собирался в IDE Dev-C++ 5.11, и благополучно запускался под Windows 7 и 10.

Для работы с сокетами подключалась библиотека `libws2_32.a`.

Перед сборкой в параметрах компилятора следует указать стандарт Си 2011 года `-std=c11`. Компоновщику добавить команду `-static-libgcc`. В Dev-C++ это настраивается в окне &laquo;Параметры компилятора&raquo;.

Исполняемый файл расположен в папке area.

Программа не лишена багов. Главный и очевидный &ndash; крэш в ходе работы функции `spec_mayor()`. Чтобы игра не слетала, для начала достаточно просто удалить строку `M 3143 spec_mayor` в файле зоны `midgaard.are`.
